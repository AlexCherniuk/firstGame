<div>
    <table>
        <tr>
            <td></td>
            <td></td>
            <td></td>
            <td></td>


        </tr>
        <tr>
            <td></td>
            <td></td>
            <td></td>
            <td></td>


        </tr>

        <tr>
            <td></td>
            <td></td>
            <td></td>
            <td></td>


        </tr>
        <tr>
            <td></td>
            <td></td>
            <td></td>
            <td></td>


        </tr>

    </table>
</div>
<span>0</span>
<audio src="shot.mp3"></audio>
<script>


    function randomInteger(min, max) {

        let rand = min - 0.5 + Math.random() * (max - min + 1);
        return Math.round(rand);
    }

    var virus = document.createElement("img");
    virus.src = "virus.jpg";
    var doctor = document.createElement("img");
    doctor.src = "doctor.png";


    var rows = document.getElementsByTagName("tr");
    var cells = document.getElementsByTagName("td");

    var doctorX = 0;
    var doctorY = 0;

    function moveDoctor() {

        if (doctorX === virusX && doctorY === virusY) {
            while (doctorX === virusX && doctorY === virusY) {
                virusX = randomInteger(0, rows.length - 1);
                virusY = randomInteger(0, rows.length - 1);
            }
            var spans = document.getElementsByTagName("span");
            spans[0].innerText++;
            var audios = document.getElementsByTagName("audio");
            audios[0].currentTime = 0;
            audios[0].play();
            moveVirus();
        }

        var doctorIndex = doctorX + doctorY * rows.length;
        cells[doctorIndex].append(doctor);
    }


    moveDoctor();

    var virusX = randomInteger(1, rows.length - 1);
    var virusY = randomInteger(1, rows.length - 1);

    function moveVirus() {
        var virusIndex = virusX + virusY * rows.length;
        cells[virusIndex].append(virus);

    }
    moveVirus();


    //addEventListener
    document.onkeypress = function (event) {
        if (event.code === "KeyW") {
            if (doctorY > 0) {
                doctorY--;
            }
        }
        if (event.code === "KeyS") {
            if (doctorY < rows.length - 1) {
                doctorY++;
            }
        }
        if (event.code === "KeyD") {
            if (doctorX < rows.length - 1) {
                doctorX++;
            }
        }
        if (event.code === "KeyA") {
            if (doctorX > 0) {
                doctorX--;
            }
        }
        setTimeout(function (event) { alert("Время истекло"); }, 10000);
        moveDoctor();

    }







</script>





<style>
    img {
        display: block;
        margin-left: auto;
        margin-right: auto;
        width: 65px;
        height: 65px;
    }

    table {
        border-spacing: 0px;
        border-collapse: collapse;
    }

    td {
        border: 1px solid black;
        width: 100px;
        height: 100px;
    }

    div {
        display: flex;
        align-items: center;
        justify-content: center;
    }
    span {
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 40px;
    }
</style>